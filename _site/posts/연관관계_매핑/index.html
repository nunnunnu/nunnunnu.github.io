<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="ko-KR" >
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="[김영한 자바 ORM 표준 JPA] 연관관계 매핑" />
<meta property="og:locale" content="ko_KR" />
<meta name="description" content="방향(Direction) 단방향 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 package com.kyhJPA.practice; import javax.persistence.*; @Entity public class Member { @Id @GeneratedValue @Column(name = &quot;MEMBER_ID&quot;) private Long id; @Column(name = &quot;USERNAME&quot;) private String username; // @Column(name = &quot;TEAM_ID&quot;) // private Long teamId; @ManyToOne @JoinColumn(name=&quot;TEAM_ID&quot;) private Team team; public Team getTeam() { return this.team; } public void setTeam(Team team) { this.team = team; } // public Long getTeamId() { // return this.teamId; // } // public void setTeamId(Long teamId) { // this.teamId = teamId; // } public Long getId() { return this.id; } public void setId(Long id) { this.id = id; } public String getUsername() { return this.username; } public void setUsername(String username) { this.username = username; } public Member(){ } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 { &quot;bookSeq&quot;: 3, &quot;booktitle&quot;: &quot;NestJS로 배우는 벡엔드 프로그래밍,NestJS로 배우는 벡엔드 프로그래밍&quot;, &quot;bookPrice&quot;: 27000, &quot;bookdiscount&quot;: 0.1, &quot;bookDelivery&quot;: &quot;무료배송&quot;, &quot;publisherSeq&quot;: { &quot;publisherSeq&quot;: 3, &quot;publisherName&quot;: &quot;제이펍&quot; }, &quot;translatorSeq&quot;: null, &quot;bookSales&quot;: 0, &quot;bookRegDt&quot;: &quot;2022-12-19T15:00:00.000+00:00&quot; } 양방향 위 단방향 매핑에서 team에서 member를 찾아올수없음!! 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 package com.kyhJPA.practice; import java.util.ArrayList; import java.util.List; import javax.persistence.Column; import javax.persistence.Entity; import javax.persistence.GeneratedValue; import javax.persistence.Id; import javax.persistence.OneToMany; @Entity public class Team { @Id @GeneratedValue @Column(name=&quot;TEAM_ID&quot;) private Long id; private String name; @OneToMany(mappedBy = &quot;team&quot;) //Member클래스의 멤버변수 team과 연결되어있 private List&lt;Member&gt; members = new ArrayList&lt;Member&gt;(); public List&lt;Member&gt; getMembers() { return this.members; } public void setMembers(List&lt;Member&gt; members) { this.members = members; } public Long getId() { return this.id; } public void setId(Long id) { this.id = id; } public String getName() { return this.name; } public void setName(String name) { this.name = name; } } team에 memberList를 생성해서 mappedBy를 사용 객체와 테이블이 관계를 맺는 차이 객체 연관관계 2개 회원 → 팀 연관관계 1개(단방향) 팀→ 회원 연관관계 1개(단방향) 테이블 연관관계 1개 회원 ←→ 팀의 연관관계 1개(양방향) → 객체의 양방향 관계 = 서로다른 단방향 관계 2개 ❗외래키 관리는 단방향 연관관계 2개중 하나로만 관리를 해야함 - 연관관계 주인(Owner) 자주하는 실수 연관관계 주인에 값을 입력하지 않음 - 항상 양쪽에 값을 설정해야함(편의 메소드를 작성하는 것을 추천함 - 양쪽에 모두 존재하면 문제발생 가능성있음) 1 2 3 4 public void changeTeam(Team team) { this.team = team; team.getMembers().add(this); //여기서 this는 Member 클래스를 의미함 } 무한루프 - toString, lombok, JSON에서 무한루프에 빠짐!! ⇒ lombok에서 toString만드는거 쓰지말것. json은.. entity를 바로 내보내지말것..!!!ㅜㅜㅠDTO(VO)를 생성해서 순수 자바 객체를 내보내는 것을 추천함,,,!! ⚠️ 단방향 매핑으로도 연관관계 매핑은 완료됨!!!!!양방향 매핑은 반대방향 조회기능이 추가된것뿐임!!!! 일단 단방향으로 매핑을 완료한 후 필요할때 양방향을 추가하면 됨 다중성(Multiplicity) 다대일(N:1) - 가장 많이 사용 일대다(1:N) - 권장하지 않음 항상 다(N)쪽에 외래키가 있어 반대편 테이블의 외래키를 관리하는 특이한 구조. @joinColumn을 꼭 사용해야함. 아니면 중간에 조인테이블을 추가해서 사용 1 2 @OneToMany() @JoinColumn(name=&quot;TEAM_ID&quot;) //Member클래스의 멤버변수 team과 연결되어있음 private List&lt;Member&gt; members = new ArrayList&lt;Member&gt;(); 1 2 3 4 5 6 7 8 9 10 Member member = new Member(); member.setUsername(&quot;member0&quot;); em.persist(member); Team team = new Team(); team.setName(&quot;Team0&quot;); team.getMembers().add(member); //team테이블이 아닌 member테이블의 team_id에 값이 들어감 update구문 //권장하지 않는 이유. team을 보냈는데 member테이블이 update됨 em.persist(team); 연관관계 관리를 위해 추가로 UPDATE SQL이 실행되어 비효율적임. 일대다 양방향 - 공식x @JoinColumn(insertable = false, updatable = false) 를 사용 그냥 다대일 양방향을 사용할것. 1 2 3 @ManyToOne @JoinColumn(name=&quot;TEAM_ID&quot;, insertable = false, updatable = false) //읽기전 private Team team; 일대일(1:1) 주테이블이나 대상 테이블중에 외래키 선택 가능 주 테이블 외래키 객체지향 개발자 선호 JPA매핑 편리 주 테이블만 조회해도 대상 테이블에 데이터가 있는지 확인 가능하나 값이 없으면 외래키에 null 허용 대상 테이블 외래키 대상 테이블에 외래키가 존재 전통적인 DB개발자 선호 주테이블과 대상테이블을 일대일에서 일대다로 바꿀때 테이블 구조는 유지되나 프록시 기능의 한계로 지연로딩으로 설정해도 항상 즉시 로딩됨 다대일, 단방향 매핑과 유사함 1 2 3 4 5 6 7 8 9 10 @Entity public class Locker { @Id @GeneratedValue private Long id; private String name; @OneToOne(mappedBy = &quot;locker&quot;) private Member member; } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 @Entity public class Member { @Id @GeneratedValue @Column(name = &quot;MEMBER_ID&quot;) private Long id; @Column(name = &quot;USERNAME&quot;) private String username; @ManyToOne @JoinColumn(name=&quot;TEAM_ID&quot;) private Team team; @OneToOne @JoinColumn(name=&quot;LOCKER_ID&quot;) private Locker locker; } 다대다(N:M) - 쓰지말것. 연결 테이블을 하나 생성해서 다대일, 일대다로 풀어내야함 연관관계 주인(Owner) 객체 양방향 연관관계(단방향 2개)에서 하나를 연관관계 주인으로 지정 연관관계 주인만이 외래키를 관리(등록, 수정) 주인이 아닌쪽은 읽기만 가능 주인은 mappedBy속성을 이용하지x(mappedBy가 있다면 주인이 아님) 주인은 외래키가 있는곳으로 정할것(반대편을 가짜매핑이라고 편의상 부름. 전문용어는 아닌듯) - DB 입장에서는 외래키가 있는곳이 다, 없는곳이 1. @JoinColumn : 외래 키를 매핑할 때 사용 name : 매핑할 외래키 이름. 필드명_참조할 테이블의 기본키 컬럼명 referencedColumnName : 외래키가 참조하는 대상 테이블의 컬럼명. 참조하는 테이블의 기본키 컬럼명 foreignKey(DDL) - 외래 키 제약조건을 직접 지정가능. 테이블 생성할때만 사용가능 @Column속성과 같은것 unique nullable insertable updateable columnDefinition table @ManyToOne 주요 속성 optional : false로 설정하면 연관된 엔티티가 항상 있어야 함 - 기본값 true fetch - 글로벌 페치 전략을 설정 @ManyToOne=FetchType.EAGER @OneToMany=FetchType.LAZY cascade - 영속성 전이 기능 사용 targetEntity - 연관된 엔티티의 타입정보를 설정. 거의 사용 안함.(컬렉션을 사용해도 제네릭으로 타입정보를 알수있음) @OneToMany 주요 속성 mappedBy - 연관관계 주인 필드 선택 fetch - 글로벌 페치 전략을 설정 @ManyToOne=FetchType.EAGER @OneToMany=FetchType.LAZY cascade - 영속성 전이 기능 사용 targetEntity - 연관된 엔티티의 타입정보를 설정. 거의 사용 안함.(컬렉션을 사용해도 제네릭으로 타입정보를 알수있음)" />
<meta property="og:description" content="방향(Direction) 단방향 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 package com.kyhJPA.practice; import javax.persistence.*; @Entity public class Member { @Id @GeneratedValue @Column(name = &quot;MEMBER_ID&quot;) private Long id; @Column(name = &quot;USERNAME&quot;) private String username; // @Column(name = &quot;TEAM_ID&quot;) // private Long teamId; @ManyToOne @JoinColumn(name=&quot;TEAM_ID&quot;) private Team team; public Team getTeam() { return this.team; } public void setTeam(Team team) { this.team = team; } // public Long getTeamId() { // return this.teamId; // } // public void setTeamId(Long teamId) { // this.teamId = teamId; // } public Long getId() { return this.id; } public void setId(Long id) { this.id = id; } public String getUsername() { return this.username; } public void setUsername(String username) { this.username = username; } public Member(){ } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 { &quot;bookSeq&quot;: 3, &quot;booktitle&quot;: &quot;NestJS로 배우는 벡엔드 프로그래밍,NestJS로 배우는 벡엔드 프로그래밍&quot;, &quot;bookPrice&quot;: 27000, &quot;bookdiscount&quot;: 0.1, &quot;bookDelivery&quot;: &quot;무료배송&quot;, &quot;publisherSeq&quot;: { &quot;publisherSeq&quot;: 3, &quot;publisherName&quot;: &quot;제이펍&quot; }, &quot;translatorSeq&quot;: null, &quot;bookSales&quot;: 0, &quot;bookRegDt&quot;: &quot;2022-12-19T15:00:00.000+00:00&quot; } 양방향 위 단방향 매핑에서 team에서 member를 찾아올수없음!! 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 package com.kyhJPA.practice; import java.util.ArrayList; import java.util.List; import javax.persistence.Column; import javax.persistence.Entity; import javax.persistence.GeneratedValue; import javax.persistence.Id; import javax.persistence.OneToMany; @Entity public class Team { @Id @GeneratedValue @Column(name=&quot;TEAM_ID&quot;) private Long id; private String name; @OneToMany(mappedBy = &quot;team&quot;) //Member클래스의 멤버변수 team과 연결되어있 private List&lt;Member&gt; members = new ArrayList&lt;Member&gt;(); public List&lt;Member&gt; getMembers() { return this.members; } public void setMembers(List&lt;Member&gt; members) { this.members = members; } public Long getId() { return this.id; } public void setId(Long id) { this.id = id; } public String getName() { return this.name; } public void setName(String name) { this.name = name; } } team에 memberList를 생성해서 mappedBy를 사용 객체와 테이블이 관계를 맺는 차이 객체 연관관계 2개 회원 → 팀 연관관계 1개(단방향) 팀→ 회원 연관관계 1개(단방향) 테이블 연관관계 1개 회원 ←→ 팀의 연관관계 1개(양방향) → 객체의 양방향 관계 = 서로다른 단방향 관계 2개 ❗외래키 관리는 단방향 연관관계 2개중 하나로만 관리를 해야함 - 연관관계 주인(Owner) 자주하는 실수 연관관계 주인에 값을 입력하지 않음 - 항상 양쪽에 값을 설정해야함(편의 메소드를 작성하는 것을 추천함 - 양쪽에 모두 존재하면 문제발생 가능성있음) 1 2 3 4 public void changeTeam(Team team) { this.team = team; team.getMembers().add(this); //여기서 this는 Member 클래스를 의미함 } 무한루프 - toString, lombok, JSON에서 무한루프에 빠짐!! ⇒ lombok에서 toString만드는거 쓰지말것. json은.. entity를 바로 내보내지말것..!!!ㅜㅜㅠDTO(VO)를 생성해서 순수 자바 객체를 내보내는 것을 추천함,,,!! ⚠️ 단방향 매핑으로도 연관관계 매핑은 완료됨!!!!!양방향 매핑은 반대방향 조회기능이 추가된것뿐임!!!! 일단 단방향으로 매핑을 완료한 후 필요할때 양방향을 추가하면 됨 다중성(Multiplicity) 다대일(N:1) - 가장 많이 사용 일대다(1:N) - 권장하지 않음 항상 다(N)쪽에 외래키가 있어 반대편 테이블의 외래키를 관리하는 특이한 구조. @joinColumn을 꼭 사용해야함. 아니면 중간에 조인테이블을 추가해서 사용 1 2 @OneToMany() @JoinColumn(name=&quot;TEAM_ID&quot;) //Member클래스의 멤버변수 team과 연결되어있음 private List&lt;Member&gt; members = new ArrayList&lt;Member&gt;(); 1 2 3 4 5 6 7 8 9 10 Member member = new Member(); member.setUsername(&quot;member0&quot;); em.persist(member); Team team = new Team(); team.setName(&quot;Team0&quot;); team.getMembers().add(member); //team테이블이 아닌 member테이블의 team_id에 값이 들어감 update구문 //권장하지 않는 이유. team을 보냈는데 member테이블이 update됨 em.persist(team); 연관관계 관리를 위해 추가로 UPDATE SQL이 실행되어 비효율적임. 일대다 양방향 - 공식x @JoinColumn(insertable = false, updatable = false) 를 사용 그냥 다대일 양방향을 사용할것. 1 2 3 @ManyToOne @JoinColumn(name=&quot;TEAM_ID&quot;, insertable = false, updatable = false) //읽기전 private Team team; 일대일(1:1) 주테이블이나 대상 테이블중에 외래키 선택 가능 주 테이블 외래키 객체지향 개발자 선호 JPA매핑 편리 주 테이블만 조회해도 대상 테이블에 데이터가 있는지 확인 가능하나 값이 없으면 외래키에 null 허용 대상 테이블 외래키 대상 테이블에 외래키가 존재 전통적인 DB개발자 선호 주테이블과 대상테이블을 일대일에서 일대다로 바꿀때 테이블 구조는 유지되나 프록시 기능의 한계로 지연로딩으로 설정해도 항상 즉시 로딩됨 다대일, 단방향 매핑과 유사함 1 2 3 4 5 6 7 8 9 10 @Entity public class Locker { @Id @GeneratedValue private Long id; private String name; @OneToOne(mappedBy = &quot;locker&quot;) private Member member; } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 @Entity public class Member { @Id @GeneratedValue @Column(name = &quot;MEMBER_ID&quot;) private Long id; @Column(name = &quot;USERNAME&quot;) private String username; @ManyToOne @JoinColumn(name=&quot;TEAM_ID&quot;) private Team team; @OneToOne @JoinColumn(name=&quot;LOCKER_ID&quot;) private Locker locker; } 다대다(N:M) - 쓰지말것. 연결 테이블을 하나 생성해서 다대일, 일대다로 풀어내야함 연관관계 주인(Owner) 객체 양방향 연관관계(단방향 2개)에서 하나를 연관관계 주인으로 지정 연관관계 주인만이 외래키를 관리(등록, 수정) 주인이 아닌쪽은 읽기만 가능 주인은 mappedBy속성을 이용하지x(mappedBy가 있다면 주인이 아님) 주인은 외래키가 있는곳으로 정할것(반대편을 가짜매핑이라고 편의상 부름. 전문용어는 아닌듯) - DB 입장에서는 외래키가 있는곳이 다, 없는곳이 1. @JoinColumn : 외래 키를 매핑할 때 사용 name : 매핑할 외래키 이름. 필드명_참조할 테이블의 기본키 컬럼명 referencedColumnName : 외래키가 참조하는 대상 테이블의 컬럼명. 참조하는 테이블의 기본키 컬럼명 foreignKey(DDL) - 외래 키 제약조건을 직접 지정가능. 테이블 생성할때만 사용가능 @Column속성과 같은것 unique nullable insertable updateable columnDefinition table @ManyToOne 주요 속성 optional : false로 설정하면 연관된 엔티티가 항상 있어야 함 - 기본값 true fetch - 글로벌 페치 전략을 설정 @ManyToOne=FetchType.EAGER @OneToMany=FetchType.LAZY cascade - 영속성 전이 기능 사용 targetEntity - 연관된 엔티티의 타입정보를 설정. 거의 사용 안함.(컬렉션을 사용해도 제네릭으로 타입정보를 알수있음) @OneToMany 주요 속성 mappedBy - 연관관계 주인 필드 선택 fetch - 글로벌 페치 전략을 설정 @ManyToOne=FetchType.EAGER @OneToMany=FetchType.LAZY cascade - 영속성 전이 기능 사용 targetEntity - 연관된 엔티티의 타입정보를 설정. 거의 사용 안함.(컬렉션을 사용해도 제네릭으로 타입정보를 알수있음)" />
<link rel="canonical" href="http://localhost:4000/posts/%EC%97%B0%EA%B4%80%EA%B4%80%EA%B3%84_%EB%A7%A4%ED%95%91/" />
<meta property="og:url" content="http://localhost:4000/posts/%EC%97%B0%EA%B4%80%EA%B4%80%EA%B3%84_%EB%A7%A4%ED%95%91/" />
<meta property="og:site_name" content="히히" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-12-27T00:00:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="[김영한 자바 ORM 표준 JPA] 연관관계 매핑" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-12-27T00:00:00+09:00","datePublished":"2022-12-27T00:00:00+09:00","description":"방향(Direction) 단방향 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 package com.kyhJPA.practice; import javax.persistence.*; @Entity public class Member { @Id @GeneratedValue @Column(name = &quot;MEMBER_ID&quot;) private Long id; @Column(name = &quot;USERNAME&quot;) private String username; // @Column(name = &quot;TEAM_ID&quot;) // private Long teamId; @ManyToOne @JoinColumn(name=&quot;TEAM_ID&quot;) private Team team; public Team getTeam() { return this.team; } public void setTeam(Team team) { this.team = team; } // public Long getTeamId() { // return this.teamId; // } // public void setTeamId(Long teamId) { // this.teamId = teamId; // } public Long getId() { return this.id; } public void setId(Long id) { this.id = id; } public String getUsername() { return this.username; } public void setUsername(String username) { this.username = username; } public Member(){ } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 { &quot;bookSeq&quot;: 3, &quot;booktitle&quot;: &quot;NestJS로 배우는 벡엔드 프로그래밍,NestJS로 배우는 벡엔드 프로그래밍&quot;, &quot;bookPrice&quot;: 27000, &quot;bookdiscount&quot;: 0.1, &quot;bookDelivery&quot;: &quot;무료배송&quot;, &quot;publisherSeq&quot;: { &quot;publisherSeq&quot;: 3, &quot;publisherName&quot;: &quot;제이펍&quot; }, &quot;translatorSeq&quot;: null, &quot;bookSales&quot;: 0, &quot;bookRegDt&quot;: &quot;2022-12-19T15:00:00.000+00:00&quot; } 양방향 위 단방향 매핑에서 team에서 member를 찾아올수없음!! 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 package com.kyhJPA.practice; import java.util.ArrayList; import java.util.List; import javax.persistence.Column; import javax.persistence.Entity; import javax.persistence.GeneratedValue; import javax.persistence.Id; import javax.persistence.OneToMany; @Entity public class Team { @Id @GeneratedValue @Column(name=&quot;TEAM_ID&quot;) private Long id; private String name; @OneToMany(mappedBy = &quot;team&quot;) //Member클래스의 멤버변수 team과 연결되어있 private List&lt;Member&gt; members = new ArrayList&lt;Member&gt;(); public List&lt;Member&gt; getMembers() { return this.members; } public void setMembers(List&lt;Member&gt; members) { this.members = members; } public Long getId() { return this.id; } public void setId(Long id) { this.id = id; } public String getName() { return this.name; } public void setName(String name) { this.name = name; } } team에 memberList를 생성해서 mappedBy를 사용 객체와 테이블이 관계를 맺는 차이 객체 연관관계 2개 회원 → 팀 연관관계 1개(단방향) 팀→ 회원 연관관계 1개(단방향) 테이블 연관관계 1개 회원 ←→ 팀의 연관관계 1개(양방향) → 객체의 양방향 관계 = 서로다른 단방향 관계 2개 ❗외래키 관리는 단방향 연관관계 2개중 하나로만 관리를 해야함 - 연관관계 주인(Owner) 자주하는 실수 연관관계 주인에 값을 입력하지 않음 - 항상 양쪽에 값을 설정해야함(편의 메소드를 작성하는 것을 추천함 - 양쪽에 모두 존재하면 문제발생 가능성있음) 1 2 3 4 public void changeTeam(Team team) { this.team = team; team.getMembers().add(this); //여기서 this는 Member 클래스를 의미함 } 무한루프 - toString, lombok, JSON에서 무한루프에 빠짐!! ⇒ lombok에서 toString만드는거 쓰지말것. json은.. entity를 바로 내보내지말것..!!!ㅜㅜㅠDTO(VO)를 생성해서 순수 자바 객체를 내보내는 것을 추천함,,,!! ⚠️ 단방향 매핑으로도 연관관계 매핑은 완료됨!!!!!양방향 매핑은 반대방향 조회기능이 추가된것뿐임!!!! 일단 단방향으로 매핑을 완료한 후 필요할때 양방향을 추가하면 됨 다중성(Multiplicity) 다대일(N:1) - 가장 많이 사용 일대다(1:N) - 권장하지 않음 항상 다(N)쪽에 외래키가 있어 반대편 테이블의 외래키를 관리하는 특이한 구조. @joinColumn을 꼭 사용해야함. 아니면 중간에 조인테이블을 추가해서 사용 1 2 @OneToMany() @JoinColumn(name=&quot;TEAM_ID&quot;) //Member클래스의 멤버변수 team과 연결되어있음 private List&lt;Member&gt; members = new ArrayList&lt;Member&gt;(); 1 2 3 4 5 6 7 8 9 10 Member member = new Member(); member.setUsername(&quot;member0&quot;); em.persist(member); Team team = new Team(); team.setName(&quot;Team0&quot;); team.getMembers().add(member); //team테이블이 아닌 member테이블의 team_id에 값이 들어감 update구문 //권장하지 않는 이유. team을 보냈는데 member테이블이 update됨 em.persist(team); 연관관계 관리를 위해 추가로 UPDATE SQL이 실행되어 비효율적임. 일대다 양방향 - 공식x @JoinColumn(insertable = false, updatable = false) 를 사용 그냥 다대일 양방향을 사용할것. 1 2 3 @ManyToOne @JoinColumn(name=&quot;TEAM_ID&quot;, insertable = false, updatable = false) //읽기전 private Team team; 일대일(1:1) 주테이블이나 대상 테이블중에 외래키 선택 가능 주 테이블 외래키 객체지향 개발자 선호 JPA매핑 편리 주 테이블만 조회해도 대상 테이블에 데이터가 있는지 확인 가능하나 값이 없으면 외래키에 null 허용 대상 테이블 외래키 대상 테이블에 외래키가 존재 전통적인 DB개발자 선호 주테이블과 대상테이블을 일대일에서 일대다로 바꿀때 테이블 구조는 유지되나 프록시 기능의 한계로 지연로딩으로 설정해도 항상 즉시 로딩됨 다대일, 단방향 매핑과 유사함 1 2 3 4 5 6 7 8 9 10 @Entity public class Locker { @Id @GeneratedValue private Long id; private String name; @OneToOne(mappedBy = &quot;locker&quot;) private Member member; } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 @Entity public class Member { @Id @GeneratedValue @Column(name = &quot;MEMBER_ID&quot;) private Long id; @Column(name = &quot;USERNAME&quot;) private String username; @ManyToOne @JoinColumn(name=&quot;TEAM_ID&quot;) private Team team; @OneToOne @JoinColumn(name=&quot;LOCKER_ID&quot;) private Locker locker; } 다대다(N:M) - 쓰지말것. 연결 테이블을 하나 생성해서 다대일, 일대다로 풀어내야함 연관관계 주인(Owner) 객체 양방향 연관관계(단방향 2개)에서 하나를 연관관계 주인으로 지정 연관관계 주인만이 외래키를 관리(등록, 수정) 주인이 아닌쪽은 읽기만 가능 주인은 mappedBy속성을 이용하지x(mappedBy가 있다면 주인이 아님) 주인은 외래키가 있는곳으로 정할것(반대편을 가짜매핑이라고 편의상 부름. 전문용어는 아닌듯) - DB 입장에서는 외래키가 있는곳이 다, 없는곳이 1. @JoinColumn : 외래 키를 매핑할 때 사용 name : 매핑할 외래키 이름. 필드명_참조할 테이블의 기본키 컬럼명 referencedColumnName : 외래키가 참조하는 대상 테이블의 컬럼명. 참조하는 테이블의 기본키 컬럼명 foreignKey(DDL) - 외래 키 제약조건을 직접 지정가능. 테이블 생성할때만 사용가능 @Column속성과 같은것 unique nullable insertable updateable columnDefinition table @ManyToOne 주요 속성 optional : false로 설정하면 연관된 엔티티가 항상 있어야 함 - 기본값 true fetch - 글로벌 페치 전략을 설정 @ManyToOne=FetchType.EAGER @OneToMany=FetchType.LAZY cascade - 영속성 전이 기능 사용 targetEntity - 연관된 엔티티의 타입정보를 설정. 거의 사용 안함.(컬렉션을 사용해도 제네릭으로 타입정보를 알수있음) @OneToMany 주요 속성 mappedBy - 연관관계 주인 필드 선택 fetch - 글로벌 페치 전략을 설정 @ManyToOne=FetchType.EAGER @OneToMany=FetchType.LAZY cascade - 영속성 전이 기능 사용 targetEntity - 연관된 엔티티의 타입정보를 설정. 거의 사용 안함.(컬렉션을 사용해도 제네릭으로 타입정보를 알수있음)","headline":"[김영한 자바 ORM 표준 JPA] 연관관계 매핑","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/posts/%EC%97%B0%EA%B4%80%EA%B4%80%EA%B3%84_%EB%A7%A4%ED%95%91/"},"url":"http://localhost:4000/posts/%EC%97%B0%EA%B4%80%EA%B4%80%EA%B3%84_%EB%A7%A4%ED%95%91/"}</script>
<!-- End Jekyll SEO tag -->


  <title>[김영한 자바 ORM 표준 JPA] 연관관계 매핑 | 히히
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="히히">
<meta name="application-name" content="히히">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Resource Hints -->
  
    
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
      
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
    
      
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      
        <link rel="dns-prefetch" href="https://fonts.gstatic.com" >
      
    
      
        <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      
        <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
      
    
  

  <!-- Bootstrap -->
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  

  <!-- Theme style -->
  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  <!-- Web Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.6.0/css/all.min.css">

  <!-- 3rd-party Dependencies -->

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.29.0/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Image Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css">
  

  <!-- JavaScript -->

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      let self = this;this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          self.clearMode();
        }
        self.notify();
      });

      if (!this.hasMode) {
        return;
      }

      if (this.isDarkMode) {
        this.setDark();
      } else {
        this.setLight();
      }
    }

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isPreferDark() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }get modeStatus() {
      if (this.hasMode) {
        return this.mode;
      } else {
        return this.isPreferDark ? ModeToggle.DARK_MODE : ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        this.clearMode();
      } else {
        if (this.isPreferDark) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    }
  }

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/portfolio.jpeg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <h1 class="site-title">
      <a href="/">히히</a>
    </h1>
    <p class="site-subtitle fst-italic mb-0">바보등장</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>홈</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>카테고리</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>태그</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>아카이브</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>정보</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/nunnunnu"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://twitter.com/"
          aria-label="twitter"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fa-brands fa-x-twitter"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['nod15277','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">홈</a>
            </span>

          
        
          
        
          
            
              <span>[김영한 자바 ORM 표준 JPA] 연관관계 매핑</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      포스트
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search id="search" class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="검색..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">취소</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->





<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  

  
  

  

  
  

  

  
  

  




<!-- return -->




<article class="px-1">
  <header>
    <h1 data-toc-skip>[김영한 자바 ORM 표준 JPA] 연관관계 매핑</h1>
    

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        게시
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1672066800"
  data-df="YYYY/MM/DD"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  2022/12/27
</time>

      </span>

      <!-- lastmod date -->
      
        <span>
          업데이트
          <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1672099200"
  data-df="YYYY/MM/DD"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  2022/12/27
</time>

        </span>
      
      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              <a href="https://github.com/username">jinny</a>
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="1824 단어"
>
  <em>10 분</em>읽는 시간</span>

        </div>
      </div>
    </div>
  </header>

  <div class="content">
    <ul>
  <li>방향(Direction)
    <ul>
      <li>
        <p>단방향</p>

        <div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
</pre></td><td class="rouge-code"><pre>  <span class="kn">package</span> <span class="nn">com.kyhJPA.practice</span><span class="o">;</span>
        
  <span class="kn">import</span> <span class="nn">javax.persistence.*</span><span class="o">;</span>
  <span class="nd">@Entity</span>
  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Member</span> <span class="o">{</span>
      <span class="nd">@Id</span> <span class="nd">@GeneratedValue</span>
      <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"MEMBER_ID"</span><span class="o">)</span>
      <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>
      <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"USERNAME"</span><span class="o">)</span>
      <span class="kd">private</span> <span class="nc">String</span> <span class="n">username</span><span class="o">;</span>
            
      <span class="c1">// @Column(name = "TEAM_ID")</span>
      <span class="c1">// private Long teamId;</span>
        
      <span class="nd">@ManyToOne</span>
      <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"TEAM_ID"</span><span class="o">)</span>
      <span class="kd">private</span> <span class="nc">Team</span> <span class="n">team</span><span class="o">;</span>
        
      <span class="kd">public</span> <span class="nc">Team</span> <span class="nf">getTeam</span><span class="o">()</span> <span class="o">{</span>
          <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">team</span><span class="o">;</span>
      <span class="o">}</span>
        
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setTeam</span><span class="o">(</span><span class="nc">Team</span> <span class="n">team</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">this</span><span class="o">.</span><span class="na">team</span> <span class="o">=</span> <span class="n">team</span><span class="o">;</span>
      <span class="o">}</span>
        
      <span class="c1">// public Long getTeamId() {</span>
      <span class="c1">//     return this.teamId;</span>
      <span class="c1">// }</span>
        
      <span class="c1">// public void setTeamId(Long teamId) {</span>
      <span class="c1">//     this.teamId = teamId;</span>
      <span class="c1">// }</span>
        
      <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">getId</span><span class="o">()</span> <span class="o">{</span>
          <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">id</span><span class="o">;</span>
      <span class="o">}</span>
        
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setId</span><span class="o">(</span><span class="nc">Long</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
      <span class="o">}</span>
        
      <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getUsername</span><span class="o">()</span> <span class="o">{</span>
          <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">username</span><span class="o">;</span>
      <span class="o">}</span>
        
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setUsername</span><span class="o">(</span><span class="nc">String</span> <span class="n">username</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">this</span><span class="o">.</span><span class="na">username</span> <span class="o">=</span> <span class="n">username</span><span class="o">;</span>
      <span class="o">}</span>
            
      <span class="kd">public</span> <span class="nf">Member</span><span class="o">(){</span>
        
      <span class="o">}</span>
            
  <span class="o">}</span>
</pre></td></tr></tbody></table></code></div>        </div>

        <div class="language-json highlighter-rouge"><div class="code-header">
        <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="w">  </span><span class="p">{</span><span class="w">
              </span><span class="nl">"bookSeq"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
              </span><span class="nl">"booktitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NestJS로 배우는 벡엔드 프로그래밍,NestJS로 배우는 벡엔드 프로그래밍"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"bookPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">27000</span><span class="p">,</span><span class="w">
              </span><span class="nl">"bookdiscount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
              </span><span class="nl">"bookDelivery"</span><span class="p">:</span><span class="w"> </span><span class="s2">"무료배송"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"publisherSeq"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"publisherSeq"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"publisherName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"제이펍"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="nl">"translatorSeq"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="nl">"bookSales"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
              </span><span class="nl">"bookRegDt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-12-19T15:00:00.000+00:00"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></div>        </div>
      </li>
      <li>
        <p>양방향</p>

        <p>위 단방향 매핑에서 team에서 member를 찾아올수없음!!</p>

        <div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
</pre></td><td class="rouge-code"><pre>  <span class="kn">package</span> <span class="nn">com.kyhJPA.practice</span><span class="o">;</span>
        
  <span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
  <span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
        
  <span class="kn">import</span> <span class="nn">javax.persistence.Column</span><span class="o">;</span>
  <span class="kn">import</span> <span class="nn">javax.persistence.Entity</span><span class="o">;</span>
  <span class="kn">import</span> <span class="nn">javax.persistence.GeneratedValue</span><span class="o">;</span>
  <span class="kn">import</span> <span class="nn">javax.persistence.Id</span><span class="o">;</span>
  <span class="kn">import</span> <span class="nn">javax.persistence.OneToMany</span><span class="o">;</span>
        
  <span class="nd">@Entity</span>
  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Team</span> <span class="o">{</span>
      <span class="nd">@Id</span> <span class="nd">@GeneratedValue</span>
      <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"TEAM_ID"</span><span class="o">)</span>
      <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>
      <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
        
      <span class="nd">@OneToMany</span><span class="o">(</span><span class="n">mappedBy</span> <span class="o">=</span> <span class="s">"team"</span><span class="o">)</span> <span class="c1">//Member클래스의 멤버변수 team과 연결되어있</span>
      <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">members</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;();</span>
        
      <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="nf">getMembers</span><span class="o">()</span> <span class="o">{</span>
          <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">members</span><span class="o">;</span>
      <span class="o">}</span>
        
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setMembers</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">members</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">this</span><span class="o">.</span><span class="na">members</span> <span class="o">=</span> <span class="n">members</span><span class="o">;</span>
      <span class="o">}</span>
            
      <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">getId</span><span class="o">()</span> <span class="o">{</span>
          <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">id</span><span class="o">;</span>
      <span class="o">}</span>
        
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setId</span><span class="o">(</span><span class="nc">Long</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
      <span class="o">}</span>
        
      <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
          <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">name</span><span class="o">;</span>
      <span class="o">}</span>
        
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
      <span class="o">}</span>
        
        
  <span class="o">}</span>
</pre></td></tr></tbody></table></code></div>        </div>

        <p>team에 memberList를 생성해서 mappedBy를 사용</p>

        <ul>
          <li>객체와 테이블이 관계를 맺는 차이
            <ul>
              <li>객체 연관관계 2개
                <ul>
                  <li>회원 → 팀 연관관계 1개(단방향)</li>
                  <li>팀→ 회원 연관관계 1개(단방향)</li>
                </ul>
              </li>
              <li>테이블 연관관계 1개
                <ul>
                  <li>회원 ←→ 팀의 연관관계 1개(양방향)</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>

        <p>→ 객체의 양방향 관계 = 서로다른 단방향 관계 2개</p>

        <p>❗외래키 관리는 단방향 연관관계 2개중 하나로만 관리를 해야함 - 연관관계 주인(Owner)</p>

        <ul>
          <li>
            <p>자주하는 실수</p>

            <ul>
              <li>연관관계 주인에 값을 입력하지 않음 - 항상 양쪽에 값을 설정해야함(편의 메소드를 작성하는 것을 추천함 - 양쪽에 모두 존재하면 문제발생 가능성있음)</li>
            </ul>

            <div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">changeTeam</span><span class="o">(</span><span class="nc">Team</span> <span class="n">team</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">this</span><span class="o">.</span><span class="na">team</span> <span class="o">=</span> <span class="n">team</span><span class="o">;</span>
          <span class="n">team</span><span class="o">.</span><span class="na">getMembers</span><span class="o">().</span><span class="na">add</span><span class="o">(</span><span class="k">this</span><span class="o">);</span> <span class="c1">//여기서 this는 Member 클래스를 의미함</span>
      <span class="o">}</span>
</pre></td></tr></tbody></table></code></div>            </div>

            <ul>
              <li>무한루프 - toString, lombok, JSON에서 무한루프에 빠짐!!<br />
  ⇒ lombok에서 toString만드는거 쓰지말것. json은.. entity를 바로 내보내지말것..!!!ㅜㅜㅠDTO(VO)를 생성해서 순수 자바 객체를 내보내는 것을 추천함,,,!!</li>
            </ul>

            <p>⚠️ 단방향 매핑으로도 연관관계 매핑은 완료됨!!!!!양방향 매핑은 반대방향 조회기능이 추가된것뿐임!!!! 일단 단방향으로 매핑을 완료한 후 필요할때 양방향을 추가하면 됨</p>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>다중성(Multiplicity)
    <ul>
      <li>다대일(N:1) - 가장 많이 사용</li>
      <li>
        <p>일대다(1:N) - 권장하지 않음</p>

        <ul>
          <li>항상 다(N)쪽에 외래키가 있어 반대편 테이블의 외래키를 관리하는 특이한 구조. @joinColumn을 꼭 사용해야함. 아니면 중간에 조인테이블을 추가해서 사용</li>
        </ul>

        <div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>  <span class="nd">@OneToMany</span><span class="o">()</span> <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"TEAM_ID"</span><span class="o">)</span> <span class="c1">//Member클래스의 멤버변수 team과 연결되어있음</span>
      <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">members</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;();</span>
</pre></td></tr></tbody></table></code></div>        </div>

        <div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre>  <span class="nc">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Member</span><span class="o">();</span>
              <span class="n">member</span><span class="o">.</span><span class="na">setUsername</span><span class="o">(</span><span class="s">"member0"</span><span class="o">);</span>
              <span class="n">em</span><span class="o">.</span><span class="na">persist</span><span class="o">(</span><span class="n">member</span><span class="o">);</span>
        
              <span class="nc">Team</span> <span class="n">team</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Team</span><span class="o">();</span>
              <span class="n">team</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"Team0"</span><span class="o">);</span>
              <span class="n">team</span><span class="o">.</span><span class="na">getMembers</span><span class="o">().</span><span class="na">add</span><span class="o">(</span><span class="n">member</span><span class="o">);</span> <span class="c1">//team테이블이 아닌 member테이블의 team_id에 값이 들어감 update구문 </span>
              <span class="c1">//권장하지 않는 이유. team을 보냈는데 member테이블이 update됨</span>
        
              <span class="n">em</span><span class="o">.</span><span class="na">persist</span><span class="o">(</span><span class="n">team</span><span class="o">);</span>
</pre></td></tr></tbody></table></code></div>        </div>

        <ul>
          <li>연관관계 관리를 위해 추가로 UPDATE SQL이 실행되어 비효율적임.</li>
          <li>
            <p>일대다 양방향 - 공식x</p>

            <ul>
              <li>@JoinColumn(insertable = false, updatable = false) 를 사용</li>
              <li>그냥 다대일 양방향을 사용할것.</li>
            </ul>

            <div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>  <span class="nd">@ManyToOne</span>
      <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"TEAM_ID"</span><span class="o">,</span> <span class="n">insertable</span> <span class="o">=</span> <span class="kc">false</span><span class="o">,</span> <span class="n">updatable</span> <span class="o">=</span> <span class="kc">false</span><span class="o">)</span> <span class="c1">//읽기전</span>
      <span class="kd">private</span> <span class="nc">Team</span> <span class="n">team</span><span class="o">;</span>
</pre></td></tr></tbody></table></code></div>            </div>
          </li>
        </ul>
      </li>
      <li>
        <p>일대일(1:1)</p>

        <ul>
          <li>주테이블이나 대상 테이블중에 외래키 선택 가능
            <ul>
              <li>주 테이블 외래키
                <ul>
                  <li>객체지향 개발자 선호</li>
                  <li>JPA매핑 편리</li>
                  <li>주 테이블만 조회해도 대상 테이블에 데이터가 있는지 확인 가능하나 값이 없으면 외래키에 null 허용</li>
                </ul>
              </li>
              <li>대상 테이블 외래키
                <ul>
                  <li>대상 테이블에 외래키가 존재</li>
                  <li>전통적인 DB개발자 선호</li>
                  <li>주테이블과 대상테이블을 일대일에서 일대다로 바꿀때 테이블 구조는 유지되나 프록시 기능의 한계로 지연로딩으로 설정해도 항상 즉시 로딩됨</li>
                </ul>
              </li>
            </ul>
          </li>
          <li>다대일, 단방향 매핑과 유사함</li>
        </ul>

        <div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre>  <span class="nd">@Entity</span>
  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Locker</span> <span class="o">{</span>
       <span class="nd">@Id</span> <span class="nd">@GeneratedValue</span>
       <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>
        
       <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
        
       <span class="nd">@OneToOne</span><span class="o">(</span><span class="n">mappedBy</span> <span class="o">=</span> <span class="s">"locker"</span><span class="o">)</span>
       <span class="kd">private</span> <span class="nc">Member</span> <span class="n">member</span><span class="o">;</span>
  <span class="o">}</span>
</pre></td></tr></tbody></table></code></div>        </div>

        <div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre>  <span class="nd">@Entity</span>
  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Member</span> <span class="o">{</span>
      <span class="nd">@Id</span> <span class="nd">@GeneratedValue</span>
      <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"MEMBER_ID"</span><span class="o">)</span>
      <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>
      <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"USERNAME"</span><span class="o">)</span>
      <span class="kd">private</span> <span class="nc">String</span> <span class="n">username</span><span class="o">;</span>
        
      <span class="nd">@ManyToOne</span>
      <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"TEAM_ID"</span><span class="o">)</span>
      <span class="kd">private</span> <span class="nc">Team</span> <span class="n">team</span><span class="o">;</span>
        
      <span class="nd">@OneToOne</span> <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"LOCKER_ID"</span><span class="o">)</span>
      <span class="kd">private</span> <span class="nc">Locker</span> <span class="n">locker</span><span class="o">;</span>
  <span class="o">}</span>
</pre></td></tr></tbody></table></code></div>        </div>
      </li>
      <li>다대다(N:M) - 쓰지말것. 연결 테이블을 하나 생성해서 다대일, 일대다로 풀어내야함</li>
    </ul>
  </li>
  <li>연관관계 주인(Owner)
    <ul>
      <li>객체 양방향 연관관계(단방향 2개)에서 하나를 연관관계 주인으로 지정</li>
      <li>연관관계 주인만이 외래키를 관리(등록, 수정)</li>
      <li>주인이 아닌쪽은 읽기만 가능</li>
      <li>주인은 mappedBy속성을 이용하지x(mappedBy가 있다면 주인이 아님)</li>
      <li>주인은 외래키가 있는곳으로 정할것(반대편을 가짜매핑이라고 편의상 부름. 전문용어는 아닌듯) - DB 입장에서는 외래키가 있는곳이 다, 없는곳이 1.</li>
    </ul>
  </li>
  <li>@JoinColumn : 외래 키를 매핑할 때 사용
    <ul>
      <li>name : 매핑할 외래키 이름. 필드명_참조할 테이블의 기본키 컬럼명</li>
      <li>referencedColumnName : 외래키가 참조하는 대상 테이블의 컬럼명. 참조하는 테이블의 기본키 컬럼명</li>
      <li>foreignKey(DDL) - 외래 키 제약조건을 직접 지정가능. 테이블 생성할때만 사용가능</li>
      <li>@Column속성과 같은것
        <ul>
          <li>unique</li>
          <li>nullable insertable</li>
          <li>updateable</li>
          <li>columnDefinition</li>
          <li>table</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>@ManyToOne 주요 속성
    <ul>
      <li>optional : false로 설정하면 연관된 엔티티가 항상 있어야 함 - 기본값 true</li>
      <li>fetch - 글로벌 페치 전략을 설정
        <ul>
          <li>@ManyToOne=FetchType.EAGER</li>
          <li>@OneToMany=FetchType.LAZY</li>
        </ul>
      </li>
      <li>cascade - 영속성 전이 기능 사용</li>
      <li>targetEntity - 연관된 엔티티의 타입정보를 설정. 거의 사용 안함.(컬렉션을 사용해도 제네릭으로 타입정보를 알수있음)</li>
    </ul>
  </li>
  <li>@OneToMany 주요 속성
    <ul>
      <li>mappedBy - 연관관계 주인 필드 선택</li>
      <li>fetch - 글로벌 페치 전략을 설정
        <ul>
          <li>@ManyToOne=FetchType.EAGER</li>
          <li>@OneToMany=FetchType.LAZY</li>
        </ul>
      </li>
      <li>cascade - 영속성 전이 기능 사용</li>
      <li>targetEntity - 연관된 엔티티의 타입정보를 설정. 거의 사용 안함.(컬렉션을 사용해도 제네릭으로 타입정보를 알수있음)</li>
    </ul>
  </li>
</ul>

    <script type="module" src="/assets/js/blockquote.js"></script>
  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/jpa/">JPA</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/jpa/"
            class="post-tag no-text-decoration"
          >jpa</a>
        
          <a
            href="/tags/%EA%B9%80%EC%98%81%ED%95%9C%EC%9E%90%EB%B0%94orm%ED%91%9C%EC%A4%80jpa/"
            class="post-tag no-text-decoration"
          >김영한자바ORM표준JPA</a>
        
          <a
            href="/tags/orm/"
            class="post-tag no-text-decoration"
          >ORM</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">공유하기</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=[%EA%B9%80%EC%98%81%ED%95%9C%20%EC%9E%90%EB%B0%94%20ORM%20%ED%91%9C%EC%A4%80%20JPA]%20%EC%97%B0%EA%B4%80%EA%B4%80%EA%B3%84%20%EB%A7%A4%ED%95%91%20-%20%ED%9E%88%ED%9E%88&url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2F%25EC%2597%25B0%25EA%25B4%2580%25EA%25B4%2580%25EA%25B3%2584_%25EB%25A7%25A4%25ED%2595%2591%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=[%EA%B9%80%EC%98%81%ED%95%9C%20%EC%9E%90%EB%B0%94%20ORM%20%ED%91%9C%EC%A4%80%20JPA]%20%EC%97%B0%EA%B4%80%EA%B4%80%EA%B3%84%20%EB%A7%A4%ED%95%91%20-%20%ED%9E%88%ED%9E%88&u=http%3A%2F%2Flocalhost%3A4000%2Fposts%2F%25EC%2597%25B0%25EA%25B4%2580%25EA%25B4%2580%25EA%25B3%2584_%25EB%25A7%25A4%25ED%2595%2591%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2F%25EC%2597%25B0%25EA%25B4%2580%25EA%25B4%2580%25EA%25B3%2584_%25EB%25A7%25A4%25ED%2595%2591%2F&text=[%EA%B9%80%EC%98%81%ED%95%9C%20%EC%9E%90%EB%B0%94%20ORM%20%ED%91%9C%EC%A4%80%20JPA]%20%EC%97%B0%EA%B4%80%EA%B4%80%EA%B3%84%20%EB%A7%A4%ED%95%91%20-%20%ED%9E%88%ED%9E%88" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="링크 복사하기"
      data-title-succeed="링크가 복사되었습니다!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>
<div id="giscus">
    <script src="https://giscus.app/client.js"
            data-repo="nunnunnu/nunnunnu.github.io"
            data-repo-id="R_kgDOMWEGow"
            data-category="Comments"
            data-category-id="DIC_kwDOMWEGo84ChY2C"
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="bottom"
            data-theme="noborder_light"
            data-lang="ko"
            crossorigin="anonymous"
            async>
    </script>
</div>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">최근 업데이트</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/%EA%B8%B0%EC%B4%88/">[코틀린 쿡북] 2장 - 기초</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/domain_https/">[사이드프로젝트 aws배포] DNS발급/연결 & HTTPS 설정</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/spring-aws_ec2/">[스프링 부트와 AWS로 혼자 구현하는 웹 서비스] 6장 AWS 서버 환경을 만들어보자 - AWS EC2</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/%EA%B2%80%EC%83%89%EC%96%B4-%EC%9E%90%EB%8F%99%EC%99%84%EC%84%B1-%EC%8B%9C%EC%8A%A4%ED%85%9C&%EC%9C%A0%ED%88%AC%EB%B8%8C%EC%84%A4%EA%B3%84/">[가상 면접 사례로 배우는 대규모 시스템 설계 기초] 13장 검색어 자동완성 시스템&유투브 설계</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/%EA%B5%AC%EA%B8%80%EB%93%9C%EB%9D%BC%EC%9D%B4%EB%B8%8C-%EC%84%A4%EA%B3%84/">[가상 면접 사례로 배우는 대규모 시스템 설계 기초] 15장 구글드라이브 설계</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">인기 태그</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/spring/">spring</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/java/">java</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/jpa/">jpa</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%B1%85%EC%9A%94%EC%95%BD/">책요약</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/orm/">ORM</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9E%90%EB%B0%94%EC%9D%98%EC%A0%95%EC%84%9D/">자바의정석</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B5%AD%EB%B9%84%EA%B5%90%EC%9C%A1/">국비교육</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B9%80%EC%98%81%ED%95%9C%EC%8A%A4%ED%94%84%EB%A7%81%ED%95%B5%EC%8B%AC%EC%9B%90%EB%A6%AC-%EA%B3%A0%EA%B8%89/">김영한스프링핵심원리-고급</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/kotlin/">kotlin</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%97%B0%EC%8A%B5%EB%AC%B8%EC%A0%9C/">연습문제</a>
      
    </div>
  </section>


            </div>

            
              
              




            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->















  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">관련된 글</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/%ED%94%84%EB%A1%9D%EC%8B%9C%EC%99%80_%EC%97%B0%EA%B4%80%EA%B4%80%EA%B3%84_%EA%B4%80%EB%A6%AC/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1672326000"
  data-df="YYYY/MM/DD"
  
>
  2022/12/30
</time>

              <h4 class="pt-0 my-2">[김영한 자바 ORM 표준 JPA] 프록시와 연관관계 관리</h4>
              <div class="text-muted">
                <p>FK가 걸린 다른 객체를 각 상황에따라 같이조회할때도있고 조회하지않을때도 있을때, 조회하지 않을때 프록시와 지연로딩을 사용.



프록시


  em.find() : 데이터 베이스를 통해 실제 엔티티 객체 조회
  
    em.getReference() : 데이터 베이스 조회를 미루는 가짜(프록시)엔티티 객체 조회

    

    위 코드 아래에...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/%EA%B3%A0%EA%B8%89%EB%A7%A4%ED%95%91/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1672239600"
  data-df="YYYY/MM/DD"
  
>
  2022/12/29
</time>

              <h4 class="pt-0 my-2">[김영한 자바 ORM 표준 JPA] 고급매핑</h4>
              <div class="text-muted">
                <p>DB에는 상속이라는 개념이 없음. 상속을 DB에서는 각각의 테이블로 변환(조인), 통합테이블 변환(단일테이블), 서브타입 테이블(구현클래스마다 테이블)로 변환 3가지가 있음




  주요 어노테이션
    
      @Inheritance(strategy= InheritanceType.XXX)
        
          JOINED : 조인...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/%EC%97%94%ED%8B%B0%ED%8B%B0_%EB%A7%A4%ED%95%91/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1671980400"
  data-df="YYYY/MM/DD"
  
>
  2022/12/26
</time>

              <h4 class="pt-0 my-2">[김영한 자바 ORM 표준 JPA] 엔티티 매핑</h4>
              <div class="text-muted">
                <p>객체와 테이블 매핑


  객체와 테이블 매핑
    
      @Entity
        
          JPA가 관리
          기본 생성자 필수(파라미터가 없는 public 또는 protected생성자)
          final 클래스, enum, interface, inner 클래스 사용 x
          저장할 필드에 f...</p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/MVC/"
      class="btn btn-outline-primary"
      aria-label="이전 글"
    >
      <p>[국비교육학원-수업내용정리] MVC패턴 실습</p>
    </a>
  

  
    <a
      href="/posts/%EA%B3%A0%EA%B8%89%EB%A7%A4%ED%95%91/"
      class="btn btn-outline-primary"
      aria-label="다음 글"
    >
      <p>[김영한 자바 ORM 표준 JPA] 고급매핑</p>
    </a>
  
</nav>

            
              
              <!-- The comments switcher -->


            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2024</time>

    
      <a href="https://github.com/username">jinny</a>.
    

    
  </p>

  <p>
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center d-none">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">인기 태그</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/spring/">spring</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/java/">java</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/jpa/">jpa</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%B1%85%EC%9A%94%EC%95%BD/">책요약</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/orm/">ORM</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9E%90%EB%B0%94%EC%9D%98%EC%A0%95%EC%84%9D/">자바의정석</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B5%AD%EB%B9%84%EA%B5%90%EC%9C%A1/">국비교육</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B9%80%EC%98%81%ED%95%9C%EC%8A%A4%ED%94%84%EB%A7%81%ED%95%B5%EC%8B%AC%EC%9B%90%EB%A6%AC-%EA%B3%A0%EA%B8%89/">김영한스프링핵심원리-고급</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/kotlin/">kotlin</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%97%B0%EC%8A%B5%EB%AC%B8%EC%A0%9C/">연습문제</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">새 버전의 콘텐츠를 사용할 수 있습니다.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      업데이트
    </button>
  </div>
</aside>

    

    <!-- JavaScripts -->
    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/ko.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js"></script>







<script src="/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  







    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
    noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>


---
생성일: 2023-01-22
태그:
  - 모든 개발자를 위한 HTTP 웹 기본지식
강사:
  - 김영한
title: "[김영한 모든 개발자를 위한 HTTP 웹 기본 지식] - HTTP 메소드"
category: HTTP
tags:
  - HTTP
  - 김영한모든개발자를위한HTTP웹기본지식
---
### HTTP API

중요한 것은 **<font color="#ff0000">리소스 식별</font>**

— 회원 정보 관리 API

→ <mark class="hltr-cyan">회원이 리소스!!! 기능에 초점을 두지 말것!!!</mark>

⇒ **<mark class="hltr-cyan">회원 리소스를 URI에 매핑 그 후에 행위를 분리(HTTP 메소드)</mark>**

  

- HTTP 메소드
    - GET - 리소스 조회.
        - 서버에 전달하고 싶은 데이터는 query(쿼리 파라미터, 쿼리스트링)를 통해 전달
        - 메세지 바디를 통해 전달이 가능하지만 지원하는 곳이 많지않아서 권장하지 않음
    - POST - 요청 데이터 처리, 주로 등록에 사용
        
        ![image](/assets/images/http/IMG-20240910113607.png)
        
        - 메세지 바디를 통해 서버로 요청 데이터 전달
        - 서버는 요청 데이터를 처리
            - 메시지 바디를 통해 들어온 데이터를 처리하는 모든 기능을 수행
        - 주로 전달된 데이터로 신규 리소스 등록, 프로세스 처리에 사용
        
        — 사용 예시
        
        - HTML양식에 입력된 필드와 같은 데이터 블록을 데이터 처리 프로세스에 제공
        - 게시판, 블로그, 뉴스그룹 등 기사 그룹에 메세지 게시
        - 서버가 아직 식별하지 않은 새 리소스 생성(등록)
        - 기존자원에 데이터 추가
        - 단순히 데이터를 생성, 변경하는 것을 넘어 프로세스를 처리해야하는 경우.(ex.결제완료, 배달시작, 배달완료 처럼 프로세스 상태가 변경됨)
        - 새로운 리소스가 생성되지않을 수도 있음
        - 다른 메소드로 처리하기 애매한경우(JSON으로 넘겨야하는데 GET을 사용하기 어려울때)
        - 그냥!!!애매하면 POST!!!!!
        
    - PUT - 리소스를 대체, 해당 리소스가 없으면 생성(덮어쓰기)
        - **<mark class="hltr-cyan">클라이언트가 리소스를 식별함</mark>**
            
            - 클라이언트가 리소스 위치를 알고 URI를 지정함. POST와의 차이점
            
            ![image](/assets/images/http/IMG-20240910113607-1.png)
            
            리소스의 전체 위치를 알고 URI를 지정함
            
        - 만약 위 예시에서 age만 수정해서 PUT을 날리면 username은 null값이 됨
    - PATCH - 리소스 부분 변경. 만약 지원이 안되면 POST쓰면됨
    - DELETE - 리소스 삭제

— 기타 메소드

- HEAD : GET과 동일하지만 메세지 부분 제외, 상태줄과 헤더만 반환
- OPTIONS : 대상 리소스에 대한 통신 가능 옵션(메소드)를 설명 (주로 CORS에서 사용)
- CONNECT : 대상 자원으로 식별되는 서버베 대한 터널 설정 - 안씀
- TRACE : 대상 리소스에 대한 경로를 따라 메세지 루프백 테스트를 수행 - 안씀

---

- 안전
    - 호출해도 리소스를 변경하지 않음 - GET, HEAD
    - 안전은 해당 리소스만 고려함. <font color="#d8d8d8">뭐..로그가 어쩌고 까지는 고려안함</font>
- 멱등(Idempotent)
    
    - 몇번을 호출해도 결과가 같음
    - GET - 몇번을 조회해도 결과가 같음
    - PUT - 결과 대체. 같은 요청을 여러번해도 최종 결과는 같음
    - DELETE - 결과 삭제. 같은 요청을 여러번해도 삭제결과는 같음
    - 자동 복구 매커니즘으로 활용
    - 서버가 TIMEOUT 등으로 정상 응답을 못주었을때 클라이언트가 같은 요청을 다시해도 되는지 판단하는 근거임.
    
    ❓혹시 중간에 외부요인으로 리소스가 바뀌면? - 그거까지는 고려안함
    
- **캐시가능(Cacheable)**
    - 응답결과 리소스를 캐시해서 사용해도 되는가?
    - GET, HEAD, POST, PATCH 캐시 가능
    - 실제로는 GET, HEAD 정도만 캐시로 가능
        
        - POST, PATCH는 본문 내용까지 캐시키로 고려해야해서 구현이 쉽지 않음